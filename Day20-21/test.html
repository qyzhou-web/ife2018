<html>
    <head>
    </head>
    <body>
        <div id="fade-obj" style="width:300px;height:300px;background:#000;"></div>
        <button id="fade-btn">淡出</button>
        <script>
            var fa = document.querySelector('#fade-obj');
            var btn = document.querySelector('#fade-btn');
            fa.style.opacity = 1;
            function fade() {
                if (btn.innerHTML == '淡出') {
                    if (fa.style.opacity == 0) btn.innerHTML = '淡入';
                    else {fa.style.opacity -= 0.2; setTimeout('fade()', 500);}
                } else {
                    if (fa.style.opacity == 1) btn.innerHTML = '淡出';
                    else {
                        var t = fa.style.opacity;
                        fa.style.opacity = 0.2 + Number(t);
                        setTimeout('fade()', 500);
                    }
                }
                console.log(fa.style.opacity);
            }
            btn.onclick = fade;
        </script>
    </body>
</html>